{{#partial "page"}}

<style>
.view-details ul li { margin-right: 0px;}
.view-details ul li .venue-name{ border-bottom: 0px solid #2496d8; font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;}
.pulse {
	position: relative;
	text-align:center;
	border-radius: 5px;
	background-size:cover;
	background: #000;
	background-repeat: no-repeat;
	color:#fff;
	text-decoration:none;
	margin:auto;cursor:pointer;
	display: block;
	-webkit-animation: pulse 2.25s infinite cubic-bezier(0.1, 0, 0, 1);
	-moz-animation: pulse 2.25s infinite cubic-bezier(0.1, 0, 0, 1);
	-ms-animation: pulse 2.25s infinite cubic-bezier(0.1, 0, 0, 1);
	animation: pulse 2.25s infinite cubic-bezier(0.1, 0, 0, 1);
	 width: 30%;
}
@-webkit-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(232, 76, 61, 0);}}
@-moz-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(232, 76, 61, 0);}}
@-ms-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(232, 76, 61, 0);}}
@keyframes pulse {to {box-shadow: 0 0 0 10px rgba(232, 76, 61, 0);}}

.selected{ 
background-color: rgba(211,211,211,.7);
color: black;
}
table{
cursor: default;
}
</style>
<div id="page-content-wrapper" class="acc-sec">
	<div class="container-fluid" style="margin-bottom:28px;">
		<h4 class="acc-sec-title"></h4>
		<div class="venue-details">
			<div class="col-md-10 col-sm-10 col-xs-10 view-details">
				<ul>
					<li class="displayBlockName"><img
						src="/facesix/static/qubercomm/images/q-cgf-logo.png" alt=""
						id="quberIm" style="width:80px;margin-left:-10px;"><label class="venue-name" id="tabtit" style="margin-left:-5px;">Device Configuration</label></li>
				</ul>
					</div>
				<!---<div class="col-md-9 col-sm-9 col-xs-8">
				<li class="scan">
						    <label class="venue-name" id="tabtit" style="margin-left:-25px;">Gateway Configuration</label>
						</li>
				</div>---->
				{{#if SYS_WRITE}}
				<div class="col-md-2 display-inline" style="margin-top:40px;">
				
				<a href="/facesix/web/device/custconfig?sid={{sid}}&spid={{spid}}&uid={{uid}}&cid={{cid}}&param=1"><button type="button" class="btn btn-primary btn-lg btn3d btn-config-venue  addhide pull-right" style="margin-right:130px;margin-top:36px;">
                <span class="btn-label"><i class="fa fa-plus"></i></span>&nbsp Add Device</button></a>
					
					
				</div>
				
				<div class="col-md-2 display-inline">
					<a href="/facesix/gwregdevices?cid={{cid}}&sid={{sid}}" class="btn btn-primary btn3d btn-config-venue addhide pull-right" style="margin-right:264px;margin-top:-39px;"><i
					class="fa fa-bookmark"></i></i> Registered Device</a>
				</div>
				<div class="col-md-2 display-inline">
					<a href="/facesix/gwconf?cid={{cid}}&sid={{sid}}" class="btn btn-primary btn3d btn-config-venue addhide pull-right" style="margin-right:464px;margin-top:-39px;"><i
					class="fa fa-bookmark"></i></i> conf</a>
				</div>
				
				{{/if}}
				
				<div class="col-md-2 display-inline">
					<a href="/facesix/gwDeviceInfo?cid={{cid}}&sid={{sid}}" class="btn btn-primary btn3d btn-config-venue addhide pull-right" style="margin-right:1px;margin-top: -41px;"><i
					class="fa fa-mixcloud"></i></i> Device Info</a>
				</div>
				
				<div style="margin-bottom: 10px"></div>
			</div>
		</div>


	<div class="add-uid-form pull-right display-inline search-uid ser" style="margin-right: 24px;">
				<div class="lth-right searchUID">
					<div class="search-opt">
						<form action="/facesix/web/site/portion/devboard" id="target">
							<div class="form-group">
								<div class="search-box">
									<span class="icon" id="searchClick">
										<i class="fa fa-search " aria-hidden="true"></i>
									</span>
									<input type="hidden" name="sid" value="{{sid}}">
									<input type="hidden" name="cid" value="{{cid}}">
									<input type="hidden" name="place" value="gatewayconfig">
									<input type="search" name = "uid" id="uid" class="form-control search-align" placeholder="">
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
</br></br></br>
	
		<div class="col-md-12 col-sm-12 col-xs-12 padding-device padding-right-0" style="padding-left: 10px;padding-right: 10px;margin-top: -10px;">
			<div class="col-md-12 col-sm-12 col-xs-12"><div class="chart-box acl-table-chart-box" style="margin-top: -40px;"></div></div>
		</div>	
	</div>

	<div class="savearea" id="reposition-mode" class="reposition-mode" style="display:none;position:fixed;">
	<div class="savearea_bottom">
			<div class="left-section">
				<label>Are you sure you want to delete this Mac-Id?</label>
			</div>
			<div class="rightsection">
				<ul class="list-unstyled">
					<li id="cancelDelete">
						<label>
							
						</label>
						<span >
							Cancel
						</span>
					</li>
					<li id="deleteItem">
						<label>
						</label>
						<span class="color2" >
							OK
						</span>
					</li>
				</ul>
			</div>
			</div>
		</div>
		
	<img src="/facesix/static/qubercomm/images/networkicons/server_inactive.png" height="30" id="serverOffline" width="30" style="display:none">
	<img src="/facesix/static/qubercomm/images/networkicons/switch_inactive.png" height="30" id="switchOffline" width="30" style="display:none">
	<img src="/facesix/static/qubercomm/images/networkicons/ap_inactive.png" height="30" id="apOffline" width="30" style="display:none">
	<img src="/facesix/static/qubercomm/images/networkicons/sensor_inactive.png" height="30" id="sensorOffline" width="30" style="display:none">
		
		
		
<!-- js -->
<script src="/facesix/static/qubercomm/js/jquery-2.1.4.min.js" type="text/javascript"></script>
<script src="/facesix/static/qubercomm/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/facesix/static/qubercomm/js/jquery_validate_min_js.js" type="text/javascript"></script>
<script src="/facesix/static/qubercomm/js/form-validations.js" type="text/javascript"></script>
<script src="https://jqueryvalidation.org/files/dist/additional-methods.min.js"></script>

<script type="text/javascript" src="/facesix/static/qubercomm/js/jquery.nicescroll.min.js"></script>
<script type="text/javascript" src="/facesix/static/qubercomm/js/jquery.mobile-events.js"></script>
<script type="text/javascript" src="/facesix/static/qubercomm/js/common.js"></script>
<script type="text/javascript" src="/facesix/static/qubercomm/js/handlebars.min.js"></script>
<script src="/facesix/static/qubercomm/js/spot.js" type="text/javascript"></script>
<script type="text/javascript" src="/facesix/static/qubercomm/js/script.js"></script>

<script type="text/javascript" src="/facesix/static/qubercomm/js/snap.svg-min.js"></script>
<script src="/facesix/static/qubercomm/js/jqpanzoom.js" type="text/javascript"></script>
<script src="/facesix/static/qubercomm/js/d3.v3.js"></script>
<script type="text/javascript" src="/facesix/static/qubercomm/js/underscore-min.js"></script>


<script src="/facesix/static/qubercomm/js/networkcon.js" type="text/javascript"></script>
<script src="/facesix/static/qubercomm/js/networkconfig.js" type="text/javascript"></script>


<script id="chartbox-acl-template" type="text/x-handlebars-template">
	
	<div class="device-coon-desc">
		<i class="fa fa-mixcloud" aria-hidden="true"></i>
		<label>Configured Devices</label>
		<span class="table-page" data-table-name="dashboard-table"><i class="fa fa-refresh acl-refreshTable" aria-hidden="true"></i>\{{#if show_previous_button}}<i class="fa fa-caret-left acl-tablePreviousPage"></i>\{{/if}}&nbsp;\{{#if show_next_button}}<i class="fa fa-caret-right acl-tableNextPage"></i>\{{/if}}</span>
		<select class="tablelength" id="tablelength" data-target="#dashboard-table">
			<option value="5">5</option>
			<option value="10" selected>10</option>
			<option value="25">25</option>
			<option value="50">50</option>
			<option value="100">100</option>
		</select>			
	</div>

	<div class="tableSection">
		<table class="table dashboard-table" id="dashboard-table" data-current-page="\{{current_page}}" data-row-limit="10">
			<thead>
				<tr class="sel_tbl1">
					<th onclick="sort_table('spotid', 0, asc1); asc1 *= -1; asc2 = 1; asc3 = 1; sel_tbl1(0)" class="width-40"># <i class="fa fa-arrow-up"></i></th>
					<th>Type <i class="fa fa-arrow-up"></i></th>
					<th onclick="sort_table('spotid', 2, asc1); asc1 *= -1; asc2 = 1; asc3 = 1; sel_tbl1(2)">Mac-Id <i class="fa fa-arrow-up"></i></th>
					<th onclick="sort_table('spotid', 3, asc1); asc1 *= -1; asc2 = 1; asc3 = 1; sel_tbl1(3)">Alias <i class="fa fa-arrow-up"></i></th>
				    <th onclick="sort_table('spotid', 4, asc1); asc1 *= -1; asc2 = 1; asc3 = 1; sel_tbl1(4)">State <i class="fa fa-arrow-up"></i></th>
					<th>IP <i class="fa fa-arrow-up"></i></th>
					
					{{#if SYS_WRITE}}
						<th class="addhide">Configure <i class="fa fa-arrow-up"></i></th>
					{{/if}}
					<th class="addhide">Stats<i class="fa fa-arrow-up"></i></th>
					{{#if BINARY_WRITE}}
					<th class="addhide">Upgrade <i class="fa fa-arrow-up"></i></th>
					{{/if}}
					
					<th>Rogue List <i class="fa fa-arrow-up"></i></th>
					<th>Heatmap <i class="fa fa-arrow-up"></i></th>
					{{#if SYS_WRITE}}
						<th class="addhide">Delete <i class="fa fa-arrow-up"></i></th>
					{{/if}}
				
				</tr>
			</thead>
			<tbody id="spotid">
				\{{#each data}}
				<tr class="tr_aclrow" id="aclrow" mac-id="\{{mac_address}}" ap="\{{ap}}" uid="{{uid}}" cid="\{{cid}}">
				 	<td style="color: black;">\{{index}}</td>
					<td style="color: black;"><img src="/facesix/static/qubercomm/images/\{{ap_type}}.png"/> </td>
					<td style="cursor:pointer;text-transform: uppercase;color: black"  onclick="location.href='/facesix/web/site/portion/devboard?uid=\{{mac_address}}&cid=\{{cid}}&mid=1'">
					<a class="LN1 LN2 LN3 LN4 LN5">
					\{{mac_address}}  
					</a>
					</td>
					<td style="color: black;">\{{alias}}</td>
					<td style="color: black;">\{{state}}</td>
					<td style="color: black;">\{{ip}}</td>
				 {{#if SYS_WRITE}}
					<td class="addhide">
					<span>
		               <a href="/facesix/web/device/custconfig?uid=\{{mac_address}}&cid=\{{cid}}&sid={{sid}}&spid={{spid}}&param=1" title="Configure"><i class="fa fa-cog fa-2x" style="color:black"></i></a>
		               </span>
					</td>
					{{/if}}
					<td class="addhide">
					<span>
		               <a href="/facesix/web/mesh/systemdashboard?uid=\{{mac_address}}&cid=\{{cid}}&sid={{sid}}&spid={{spid}}" title="system dashboard"><i class="fa fa-tachometer fa-2x" style="color:black"></i></a>
		               </span>
					</td>
					{{#if BINARY_WRITE}}
					<td class="addhide">
					<span>
		               <a href="/facesix/web/finder/device/binary?sid={{sid}}&spid={{spid}}&uid=\{{mac_address}}&cid={{cid}}" title="Upgrade"><i class="fa fa-download fa-2x" style="color:black"></i></a>
		            </span>
				</td>
				{{/if}}

				<td>
					<span>
		               <a href="/facesix/scan?sid={{sid}}&spid={{spid}}&uid=\{{mac_address}}&cid={{cid}}" title="Rogue List"><i class="fa fa-rss fa-lg" style="color:black"></i></a>
		            </span>
				</td>
				<td>
					<span>
		               <a style="cursor:pointer" onclick="location.href='/facesix/web/site/portion/heatmap?uid=\{{mac_address}}&cid=\{{cid}}&mid=1'" title="Heatmap"><i class="fa fa-map-marker fa-2x" style="color:red"></i></a>
		            </span>
				</td>

					{{#if SYS_WRITE}}
					<td class="addhide">
					<span>
		               <a class="submitDelete submit1" href="/facesix/rest/device/delete?uid=\{{mac_address}}&cid={{cid}}&sid={{sid}}&spid={{spid}}" title="Delete">
							<i class="fa fa-trash fa-2x"></i>
						</a>
		            </span>
				</td>
				{{/if}}


				</tr>
				\{{/each}}
			</tbody>

		</table>
	</div>	
	
</script>

<script>
function myFunction(ip,cmd) {
	console.log ("Command" + cmd)
	
	if (cmd === "1") {
		var str = 'http://' + ip + ':4200';
		//window.open(str, 'SSH', 'width=900,height=500');
		window.open(str, ip, 'location=1;width=900,height=500');
	}
}
</script>
	<!-- loader box -->
<link rel="stylesheet" href="/facesix/static/geo/css/loader.css">
<div class="loader_boxtwo" style="display: none;">	
	<div class="loader"></div>
	<h4 class="text-center">Loading Devices...</h4>
</div>		
	<!-- 
	deprecated code SSH
	{{#if SYS_WRITE}}
					<td class="addhide"><li><div class="pulse" onclick="myFunction('\{{ip}}','\{{cmd_enable}}')">SSH <br><i class="fa fa-terminal" aria-hidden="true"></i></div></li></td>
	{{/if}} -->

{{/partial}}

{{>qubercomm/nav-top}}
{{>qubercomm/nav-left}}
{{>qubercomm/wrapper}}