<form class="form-horizontal border-left hor-height" name="frm">
    <div class="col-md-12 menutopview" style="margin-top:22px">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin-left: -13px;">
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                <h2 style="font-weight:700;padding-bottom:7px; font-family: Roboto !important;">Gateway Status</h2>
            </div>
            <!-- <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 button-bar pull-right">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 removepadding gateway-btn">
                    <button class="btn btn-primary cus-btn" ng-click="vm.viewHistory()">
                        <span class="fa fa-eye" style="font-size: 15px !important;font-weight:100; vertical-align:middle;"></span>
                        View
                    </button>
                </div>
            </div> -->
        </div>
        <div class="panel venuepanel" style="height:auto;margin-left: 15px;width:98% !important;">
            <div class="mr-top-11 row">
                <div class="col-md-12 ">
                    <div class="col-md-12 grid-title-padding">
                        <div class="col-md-4 title-left">
                            <div class="col-md-1">
                                <i class="fa fa-credit-card grid-title-icon">&nbsp;</i>
                            </div>
                            <div class="col-md-5">
                                <span class=" grid-title">
                                    Gateway Info
                                </span>
                            </div>
                            <!-- <div class="col-md-2">
                                <select name="tagType" ng-model="vm.selectedFilereCount" class="form-control"
                                        style="font-family:Roboto;font-size:12px !important;width:100%;color:#666666;margin-top: -5px;margin-left: -35px;"
                                        ng-options="item.key as item.value for item in vm.girdFilterList"
                                        ng-change="vm.selectedFilterChange(vm.selectedFilereCount)">
                                    <option ng-if="vm.girdFilterList.length==0 || !vm.girdFilterList" value=""></option>
                                </select>
                            </div> -->
                        </div>
                        <div class="col-md-8">
                            <span ng-click="vm.getGatewayInfos(true)" class="grid-refresh pull-right">
                                <i class="fa icon-rotate_right "
                                   style="color:#625B5B;vertical-align:sub;cursor:pointer;font-size:18px !important"></i>
                                Refresh
                            </span>
                        </div>
                    </div>
                    <div class="panel-body panel-body-table" style="overflow-y: hidden;">
                        <div class="table-responsive">
                            <table class="table table-hover" style="font-size:13px;">
                                <thead style="border:thin;border-top: thin solid #e7e7e7;">
                                    <tr>
                                        <th style="background:none;color:black" class="table-hyper-a-small ">
                                            #
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'locationname'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                Location
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'locationname' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'locationname' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'uid'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                UID
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'uid' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'uid' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'state'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                Status
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'state' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'state' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'deviceUptime'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                Gateway uptime
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'deviceUptime' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'deviceUptime' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'appUptime'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                Application uptime
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'appUptime' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'appUptime' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'version'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                Version
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'version' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'version' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'build'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                Build Time
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'build' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'build' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsGwayInfo.dataOperations.sortPredicate = 'tagcount'; vm.dataOperationsGwayInfo.dataOperations.sortOrder = !vm.dataOperationsGwayInfo.dataOperations.sortOrder; vm.getGatewayInfos()">
                                                Tags Seen
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'tagcount' && !vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsGwayInfo.dataOperations.sortPredicate == 'tagcount' && vm.dataOperationsGwayInfo.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th class="table-hyper-a" style="background:none; color: black;font-family: Roboto;font-size: 12px !important;font-weight:600;letter-spacing: 0.8px;">
                                            Action
                                        </th>
                                    </tr>
                                </thead>
                                <tbody ng-if="vm.pagedDataGatewayInfo.length > 0">
                                    <tr data-ng-repeat="gwayInfo in vm.pagedDataGatewayInfo">
                                        <td>{{ gwayInfo.gridsno }}</td>
                                        <td>{{gwayInfo.locationname}}</td>
                                        <td>{{gwayInfo.uid}}</td>
                                        <td>{{gwayInfo.state}}</td>
                                        <td ng-show="gwayInfo.source == 'qubercomm'">{{gwayInfo.deviceUptime}}</td>
                                        <td ng-show="gwayInfo.source == 'guest'">-</td>
                                        <td ng-show="gwayInfo.source == 'qubercomm'">{{gwayInfo.appUptime}}</td>
                                        <td ng-show="gwayInfo.source == 'guest'">-</td>
                                        <td ng-show="gwayInfo.source == 'qubercomm'">{{gwayInfo.version}}</td>
                                        <td ng-show="gwayInfo.source == 'guest'">-</td>
                                        <td ng-show="gwayInfo.source == 'qubercomm'">{{gwayInfo.build}}</td>
                                        <td ng-show="gwayInfo.source == 'guest'">-</td>
                                        <td ng-show="gwayInfo.source == 'qubercomm'">{{gwayInfo.tagcount}}</td>
                                        <td ng-show="gwayInfo.source == 'guest'">-</td>
                                       
                                         <td>
                                            <span ng-show="gwayInfo.source == 'qubercomm'" ng-click="vm.crashDump(gwayInfo)" style="color:#18a79d;cursor:pointer">Crash Dump</span>
                                            <span ng-show="gwayInfo.source == 'guest'" style="color:#18a79d;">Crash Dump</span>
                                            &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
                                            <span ng-click="vm.statushistory(gwayInfo.uid)" style="color:#6ECAE7;cursor:pointer">Status History</span>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody ng-if="vm.pagedDataGatewayInfo.length <= 0">
                                    <tr>
                                        <td colspan="12" style="text-align: center;"> No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                            <hr style="margin: 15px 0 -20px 0 ;    border-top: thin solid #e7e7e7;">
                            <table class="footer-center">
                                <tr>
                                    <td class="foot-desc">{{vm.dataOperationsGwayInfo.currentPageDescription()}}</td>
                                    <td>
                                        <div class="pagination">
                                            <ul uib-pagination boundry-links="true" ng-change="vm.getGatewayInfos()"
                                                total-items="vm.dataOperationsGwayInfo.filteredCount" items-per-page="vm.dataOperationsGwayInfo.dataOperations.paging.pageSize"
                                                ng-model="vm.dataOperationsGwayInfo.dataOperations.paging.currentPage"
                                                max-size="vm.dataOperationsGwayInfo.dataOperations.paging.maxPagesToShow"
                                                class="pagination-small"></ul>
                                        </div>
                                    </td>
                                    <td>
                                        <input type="text" numeric class="col-md-2 pagination-goto-text" ng-disabled="vm.allGatewayInfos.length <= vm.dataOperationsGwayInfo.dataOperations.paging.pageSize"
                                               ng-model="vm.goToGatewayInfoPageNo" />&nbsp;
                                        <input type="button" class="btn btn-primary pagination-grid-footer-btn"
                                               value="Go" data-ng-click="vm.goToGatewayInfoPage()" style="background-color:#068e84"
                                               ng-disabled="!vm.goToGatewayInfoPageNo" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="col-md-12 menutopview" style="margin-top:10px" ng-if="vm.isViewHistory"> -->
        <div class="col-md-12 menutopview" style="margin-top:10px">
        <div class="panel venuepanel" style="height:auto;margin-left: 15px;width:98% !important;">
            <div class="mr-top-11 row">
                <div class="panel-heading" style="margin-top: 15px;">
                    <div class="row col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="col-md-1">
                                    <i class="fa fa-credit-card grid-title-icon">&nbsp;</i>
                            </div>
                        <div class="col-md-5" style="margin-top:-2px;margin-left: -60px;">
                            <span style="background:none;color:black;font-size:15px;font-family:Roboto;font-weight:500;">
                                Gateway Crash Dump History
                            </span>
                        </div>
                        <div ng-click="vm.getGatewayHistory(true)" class="tag-bar pull-right"
                             style="cursor:pointer;margin-right: 6px;">
                            <span ng-click="vm.getGatewayInfos(true)" class="venue-hlink dashboardactive">
                                <i class="fa icon-rotate_right"
                                   style="color:#625B5B;vertical-align:sub;cursor:pointer;font-size:18px !important"></i> Refresh
                            </span>
                        </div>
                        <div class="tag-bar pull-right"
                             style="cursor:pointer;margin-right: 15px;">
                            <select type="dropdown" name="" class="venue-hlink dashboardactive form-control durationhistory" style="width: max-content;margin-top: -8px;font-size: 13px!important;font-family: roboto;font-weight: 400!important">
                                <option value="1d">Last 1 Day</option>
                                <option value="7d">Last 1 Week</option>
                                <option value="30d">Last 1 Month</option>
                            </select>
                        </div>
                        <p class="pstyle">Duration : </p>
                    </div>
                </div>

                <div class="col-md-12 ">
                    <div class="panel-body panel-body-table" style="overflow-y: hidden;">
                        <div class="table-responsive">
                            <table class="table table-hover" style="font-size:13px;">
                                <thead style="border:thin;border-top: thin solid #e7e7e7;">
                                    <tr>
                                        <th style="background:none;color:black" class="table-hyper-a-small ">
                                            #
                                        </th>

                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsReceiver.dataOperations.sortPredicate = 'alias'; vm.dataOperationsReceiver.dataOperations.sortOrder = !vm.dataOperationsReceiver.dataOperations.sortOrder; vm.getGatewayHistory()">
                                                Alias
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'alias' && !vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'alias' && vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsReceiver.dataOperations.sortPredicate = 'uid'; vm.dataOperationsReceiver.dataOperations.sortOrder = !vm.dataOperationsReceiver.dataOperations.sortOrder; vm.getGatewayHistory()">
                                                UID
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'uid' && !vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'uid' && vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsReceiver.dataOperations.sortPredicate = 'crashTime'; vm.dataOperationsReceiver.dataOperations.sortOrder = !vm.dataOperationsReceiver.dataOperations.sortOrder; vm.getGatewayHistory()">
                                                Crash Time
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'crashTime' && !vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'crashTime' && vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsReceiver.dataOperations.sortPredicate = 'filename'; vm.dataOperationsReceiver.dataOperations.sortOrder = !vm.dataOperationsReceiver.dataOperations.sortOrder; vm.getGatewayHistory()">
                                                File Name
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'filename' && !vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'filename' && vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                        <th style="background:none;color:black">
                                            <a href="" style="color:black" ng-click="vm.dataOperationsReceiver.dataOperations.sortPredicate = 'status_code'; vm.dataOperationsReceiver.dataOperations.sortOrder = !vm.dataOperationsReceiver.dataOperations.sortOrder; vm.getGatewayHistory()">
                                                Upload Status
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'status_code' && !vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-down"></span>
                                                <span ng-show="vm.dataOperationsReceiver.dataOperations.sortPredicate == 'status_code' && vm.dataOperationsReceiver.dataOperations.sortOrder"
                                                      class="fa fa-caret-up"></span>
                                            </a>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody ng-if="vm.pagedDataGatewayHistory.length > 0">
                                    <tr data-ng-repeat="gwayInfo in vm.pagedDataGatewayHistory">
                                        <td>{{ gwayInfo.gridsno }}</td>
                                        <td>{{gwayInfo.alias}}</td>
                                        <td>{{gwayInfo.uid}}</td>
                                        <td>{{gwayInfo.crashTime}}</td>
                                        <td>{{gwayInfo.filename}}</td>
                                        <td>{{gwayInfo.status_code}}</td>
                                    </tr>

                                </tbody>
                                <tbody ng-if="vm.pagedDataGatewayHistory.length <= 0">
                                    <tr>
                                        <td colspan="12" style="text-align: center;"> No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                            <hr style="margin: 15px 0 -20px 0 ;    border-top: thin solid #e7e7e7;">

                            <table class="footer-center">
                                <tr>
                                    <td class="foot-desc">{{vm.dataOperationsGwayHistory.currentPageDescription()}}</td>
                                    <td>
                                        <div class="pagination">
                                            <ul uib-pagination boundry-links="true" ng-change="vm.getGatewayHistory()"
                                                total-items="vm.dataOperationsGwayHistory.filteredCount"
                                                items-per-page="vm.dataOperationsGwayHistory.dataOperations.paging.pageSize"
                                                ng-model="vm.dataOperationsGwayHistory.dataOperations.paging.currentPage"
                                                max-size="vm.dataOperationsGwayHistory.dataOperations.paging.maxPagesToShow"
                                                class="pagination-small"></ul>
                                        </div>
                                    </td>
                                    <td>
                                        <input type="text" numeric class="col-md-2 pagination-goto-text" ng-disabled="vm.allGatewayHistory.length <= vm.dataOperationsGwayHistory.dataOperations.paging.pageSize"
                                               ng-model="vm.goToGwayHistoryPageNo" />&nbsp;
                                        <input type="button" class="btn btn-primary pagination-grid-footer-btn"
                                               value="Go" data-ng-click="vm.goToServerPage()" style="background-color:#068e84"
                                               ng-disabled="!vm.goToGwayHistoryPageNo" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<style type="text/css">
    .pstyle{
        float: right;
    margin-right: 15px;
    margin-top: 9px;
    font-size: 15px;
    font-weight: 500;
    }
</style>